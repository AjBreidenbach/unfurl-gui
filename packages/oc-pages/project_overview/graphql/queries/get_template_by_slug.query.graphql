
#import "../fragments/template_item.fragment.graphql"
#import "../fragments/resource_type.fragment.graphql"
#import "../fragments/input_item.fragment.graphql"

query getTemplateBySlug($projectPath: ID!, $templateSlug: String!, $fetchPolicy: String) {
  newApplicationBlueprint(fullPath: $projectPath, fetchPolicy: $fetchPolicy) @client {
    __typename
    name
    primary {
      name
      requirements {
        name
        title
        description
        resourceType {...ResourceTypes}
        min
        max
      }
      outputs {
        instructions
        title
      }
    }
    deploymentTemplates (searchBySlug: $templateSlug){
      title
      slug
      cloud
      primary {
        name
        title
        description
        properties {...InputItems}
        type {...ResourceTypes}
        outputs
        dependencies {
          constraint {
            resourceType {
              name
            }
          }
          title
          name
          match {
            type {...ResourceTypes}
            name
            title
            description
            type {...ResourceTypes}
            properties {...InputItems}
            outputs
            dependencies {
              title
              name
              match {
                name
                title
                description
                type {...ResourceTypes}
              }
            }

          }

        }
      }
     }
  }
}

